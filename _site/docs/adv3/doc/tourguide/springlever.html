<table width="100%" data-border="0" data-cellspacing="0" data-cellpadding="3" data-bgcolor="#C0C0C0">
<colgroup>
<col style="width: 50%" />
<col style="width: 50%" />
</colgroup>
<tbody>
<tr>
<td style="text-align: left;"><strong>SpringLever : <a href="lever.html">Lever</a><br />
</strong></td>
<td style="text-align: right;"><a href="labeleddial.html">[Previous]</a>
<a href="generalintroduction.html">[Main]</a> <a href="settable.html">[Next]</a></td>
</tr>
</tbody>
</table>

<p>A SpringLever is a lever that returns to its original position after
being pulled. It is functionally similar to a Button, except that it
responds to PULL instead of PRESS or PUSH. Apart from giving SpringLever
the usual vocabulary, name and description properties, all one need
normally do is to override its actionDobjPull method with whatever one
wants to happen when the lever is pulled. In this case we want nothing
to happen unless the hexagonal crystal is in the hexagonal hole and the
wheel points to a destination other than where the ship already is, so
we first test for these cases. If the conditions for setting sail are
met, we display a suitable message making use of wheel.curDirection
(defined in the <a href="labeleddial.html">LabeledDial</a> example above) to
describe the direction of travel, and then move the ship into its new
destination as defined by wheel.curDestination:</p>

<p>++ SpringLever, Component ’long silver (black) lever/knob/plaque’ ’lever’<br />
    ”It’s a long silver lever with a black knob on the end. A silver plaque<br />
     screwed just underneath it is inscribed AUTOPILOT. ”<br />
   dobjFor(Pull)<br />
   {<br />
     action()<br />
     {<br />
       if(!hexCrystal.isIn(hexHole) || wheel.curDestination == ship.location)<br />
         ”Nothing happens. ”;<br />
       else<br />
       {<br />
         ”A hum starts up deep in the bowels of the ship. With a reluctant creak, <br />
          the capstan turns, drawing up the anchor. The ship judders, then starts<br />
          gliding out into the middle of the lake. From there<br />
          it continues &lt;&lt;wheel.curDirection&gt;&gt; until it comes to rest by the<br />
          &lt;&lt;wheel.curDirection&gt;&gt;ern shore, where the capstan lowers the anchor, <br />
          and the ship moors itself up, port side to the shore. ”;<br />
          ship.moveInto(wheel.curDestination);<br />
       }<br />
     }<br />
   }<br />
;</p>

<p>Before trying this out, it would be well to define the three new
locations that can now be reached by the ship. If you are splitting your
code into separate source files, you might like to start a fresh source
file for each of these rooms, since each will be the start of a new
region of the map:</p>

<p>eastShore : Room ’Stone Jetty’ ’the stone jetty’<br />
  ”This bleak stone jetty is little more than a narrow corridor between the lake to<br />
  the west and the rough cave wall to the east. A broad flight of stone steps leads<br />
  down to the north, while a much narrower flight leads up to the south. ”<br />
;</p>

<p>westShore : Room ’Sandy Beach’ ’the sandy beach’<br />
   ”For an underground lake this section of shore forms a surprisingly large beach. The<br />
   lake laps the shore to the east, while a pair of paths lead up from the beach to the<br />
   cave complex beyond, one to the northwest and the other to the southwest. ”<br />
;</p>

<p>southShore : Room ’Rocky shore’ ’the rocky shore’<br />
   ”The rocky shore looks so barren here as to be scarcely worth visiting, apart<br />
    from a narrow tunnel leading off to the south. ”<br />
;</p>

<p>Note: depending on when you last recompiled the game you may need to do
a complete recompile (Build -&gt; Full Recompile for Debugging) after
adding these locations. Having done so, you can try sailing the ship
round the lake.</p>

