<p><span class="title">Schedulable</span><span class="type">class</span></p>

<p><a href="../file/events.t.html">events.t</a>[<a href="../source/events.t.html#223">223</a>]</p>

<p><a href="#_SuperClassTree_">Superclass<br />
Tree</a></p>

<p><a href="#_SubClassTree_">Subclass<br />
Tree</a></p>

<p><a href="#_ObjectSummary_">Global<br />
Objects</a></p>

<p><a href="#_PropSummary_">Property<br />
Summary</a></p>

<p><a href="#_MethodSummary_">Method<br />
Summary</a></p>

<p><a href="#_Properties_">Property<br />
Details</a></p>

<p><a href="#_Methods_">Method<br />
Details</a></p>

<div class="fdesc">

An item that can be scheduled for time-based notifications. The main
scheduler loop in runScheduler() operates on objects of this class.

Note that we build a list of all Schedulable instances during
pre-initialization. If any Schedulable objects are dynamically created,
they must be added to the list explicitly after creation in order for
the event manager to schedule them for execution. The default
constructor does this automatically, so subclasses can simply inherit
our constructor to be added to the master list.

`class `**`Schedulable`**` :   object`

</div>

<p><span id="_SuperClassTree_"></span></p>

<div class="mjhd">

<span class="hdln">Superclass Tree</span>   (in declaration order)

</div>

<p><strong><code class="language-plaintext highlighter-rouge">Schedulable</code></strong><br />
`         object`<br />
<span id="_SubClassTree_"></span></p>

<div class="mjhd">

<span class="hdln">Subclass Tree</span>  

</div>

<p><strong><code class="language-plaintext highlighter-rouge">Schedulable</code></strong><br />
`         <code class="language-plaintext highlighter-rouge">[</code>Actor<code class="language-plaintext highlighter-rouge">](../object/Actor.html)  
</code>                 <code class="language-plaintext highlighter-rouge">[</code>UntakeableActor<code class="language-plaintext highlighter-rouge">](../object/UntakeableActor.html)  
</code>                         <code class="language-plaintext highlighter-rouge">[</code>Person`](../object/Person.html)<br />
<span id="_ObjectSummary_"></span></p>

<div class="mjhd">

<span class="hdln">Global Objects</span>  

</div>

<p>` <code class="language-plaintext highlighter-rouge">[</code>eventManager<code class="language-plaintext highlighter-rouge">](../object/eventManager.html)</code>  `
<span id="_PropSummary_"></span></p>

<div class="mjhd">

<span class="hdln">Summary of Properties</span>  

</div>

<p>` <code class="language-plaintext highlighter-rouge">[</code>allSchedulables<code class="language-plaintext highlighter-rouge">](#allSchedulables)</code>  <code class="language-plaintext highlighter-rouge">[</code>gameClockTime<code class="language-plaintext highlighter-rouge">](#gameClockTime)</code>  <code class="language-plaintext highlighter-rouge">[</code>nextRunTime<code class="language-plaintext highlighter-rouge">](#nextRunTime)</code>  <code class="language-plaintext highlighter-rouge">[</code>scheduleOrder<code class="language-plaintext highlighter-rouge">](#scheduleOrder)</code>  `</p>

<p><span id="_MethodSummary_"></span></p>

<div class="mjhd">

<span class="hdln">Summary of Methods</span>  

</div>

<p>` <code class="language-plaintext highlighter-rouge">[</code>calcScheduleOrder<code class="language-plaintext highlighter-rouge">](#calcScheduleOrder)</code>  <code class="language-plaintext highlighter-rouge">[</code>construct<code class="language-plaintext highlighter-rouge">](#construct)</code>  <code class="language-plaintext highlighter-rouge">[</code>execute<code class="language-plaintext highlighter-rouge">](#execute)</code>  <code class="language-plaintext highlighter-rouge">[</code>executeTurn<code class="language-plaintext highlighter-rouge">](#executeTurn)</code>  <code class="language-plaintext highlighter-rouge">[</code>getNextRunTime<code class="language-plaintext highlighter-rouge">](#getNextRunTime)</code>  <code class="language-plaintext highlighter-rouge">[</code>incNextRunTime<code class="language-plaintext highlighter-rouge">](#incNextRunTime)</code>  `</p>

<p><span id="_Properties_"></span></p>

<div class="mjhd">

<span class="hdln">Properties</span>  

</div>

<p><span id="allSchedulables"></span></p>

<p><code class="language-plaintext highlighter-rouge">allSchedulables</code></p>

<p><a href="../file/events.t.html">events.t</a>[<a href="../source/events.t.html#308">308</a>]</p>

<div class="desc">

A list of all of the Schedulable objects in the game. We set this up
during pre-initialization; if any Schedulable instances are created
dynamically, they must be explicitly added to this list after creation.

</div>

<p><span id="gameClockTime"></span></p>

<p><code class="language-plaintext highlighter-rouge">gameClockTime</code></p>

<p><a href="../file/events.t.html">events.t</a>[<a href="../source/events.t.html#300">300</a>]</p>

<div class="desc">

A class variable giving the current game clock time. This is a class
variable because there's only one global game clock. The game clock
starts at zero and increments in game time units; a game time unit is
the arbitrary quantum of time for our event scheduling system.

</div>

<p><span id="nextRunTime"></span></p>

<p><code class="language-plaintext highlighter-rouge">nextRunTime</code></p>

<p><a href="../file/events.t.html">events.t</a>[<a href="../source/events.t.html#291">291</a>]</p>

<div class="desc">

my next running time, in game clock time

</div>

<p><span id="scheduleOrder"></span></p>

<p><code class="language-plaintext highlighter-rouge">scheduleOrder</code></p>

<p><a href="../file/events.t.html">events.t</a>[<a href="../source/events.t.html#273">273</a>]</p>

<div class="desc">

Scheduling order. This determines which item goes first when multiple
items are schedulable at the same time (i.e., they all have the same
getNextRunTime() values). The item with the lowest number here goes
first.

This should never be evaluated except immediately after a call to
calcScheduleOrder.

</div>

<p><span id="_Methods_"></span></p>

<div class="mjhd">

<span class="hdln">Methods</span>  

</div>

<p><span id="calcScheduleOrder"></span></p>

<p><code class="language-plaintext highlighter-rouge">calcScheduleOrder ( )</code></p>

<p><a href="../file/events.t.html">events.t</a>[<a href="../source/events.t.html#288">288</a>]</p>

<div class="desc">

Calculate the scheduling order, returning the order value and storing it
in our property scheduleOrder. This is used to calculate and cache the
value prior to sorting a list of schedulable items. We use this two-step
approach (first calculate, then sort) so that we avoid repeatedly
evaluating a complex calculation, if indeed there is a complex
calculation to perform.

By default, we assume that the schedule order is static, so we simply
leave our scheduleOrder property unchanged and return its present value.

</div>

<p><span id="construct"></span></p>

<p><code class="language-plaintext highlighter-rouge">construct ( )</code></p>

<p><a href="../file/events.t.html">events.t</a>[<a href="../source/events.t.html#225">225</a>]</p>

<div class="desc">

construction - add myself to the Schedulable list

</div>

<p><span id="execute"></span></p>

<p><code class="language-plaintext highlighter-rouge">execute ( )</code></p>

<p><a href="../file/events.t.html">events.t</a>[<a href="../source/events.t.html#320">320</a>]</p>

<div class="desc">

Execute preinitialization. Build a list of all of the schedulable
objects in the game, so that we can scan this list quickly during play.

</div>

<p><span id="executeTurn"></span></p>

<p><code class="language-plaintext highlighter-rouge">executeTurn ( )</code></p>

<p><a href="../file/events.t.html">events.t</a>[<a href="../source/events.t.html#262">262</a>]</p>

<div class="desc">

Notify this object that its scheduled run time has arrived. This should
perform the scheduled task. If the scheduled task takes any game time,
the object's internal next run time should be updated accordingly.

The scheduler will invoke this method of the same object repeatedly for
as long as its nextRunTime remains unchanged AND this method returns
true. If the object's scheduling priority changes relative to other
schedulable objects, it should return nil here to tell the scheduler to
recalculate scheduling priorities.

</div>

<p><span id="getNextRunTime"></span></p>

<p><code class="language-plaintext highlighter-rouge">getNextRunTime ( )</code></p>

<p><a href="../file/events.t.html">events.t</a>[<a href="../source/events.t.html#240">240</a>]</p>

<div class="desc">

Get the next time (on the game clock) at which I'm eligible for
execution. We won't receive any scheduling notifications until this
time. If this object doesn't want any scheduling notifications, return
nil.

</div>

<p><span id="incNextRunTime"></span></p>

<p><code class="language-plaintext highlighter-rouge">incNextRunTime (amt)</code></p>

<p><a href="../file/events.t.html">events.t</a>[<a href="../source/events.t.html#243">243</a>]</p>

<div class="desc">

advance my next run time by the given number of clock units

</div>

<div class="ftr">

TADS 3 Library Manual  
Generated on 5/16/2013 from TADS version 3.1.3

</div>
