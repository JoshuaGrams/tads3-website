<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="utf-8">
    <meta name="viewport" content="width=device-width, initial-scale=1">
    <meta property="og:type" content="website">
    <link rel="icon" href="/assets/images/tads-favicon.png" type="image/png">
    <link rel="stylesheet" type="text/css"
                           href="/assets/css/styles.css">
    <title>docs-adv3-doc-libref-object-realtimemanager-html</title>
    <meta property="og:title" content=
    "docs-adv3-doc-libref-object-realtimemanager-html">
    <meta name="description" content="">
    <meta property="og:description" content="">
</head>
<header><div class="header-search">
    <form class="header-search-form" action="/search/" method="get">
      <input type="text" id="search-box" name="query">
      <input type="submit" value="search">
    </form>
  </div>  </header>
<body>
<main id="content">
<p><span class="title">realTimeManager</span><span class="type">object</span></p>

<p><a href="../file/events.t.html">events.t</a>[<a href="../source/events.t.html#870">870</a>]</p>

<p><a href="#_SuperClassTree_">Superclass<br />
Tree</a></p>

<p><a href="#_PropSummary_">Property<br />
Summary</a></p>

<p><a href="#_MethodSummary_">Method<br />
Summary</a></p>

<p><a href="#_Properties_">Property<br />
Details</a></p>

<p><a href="#_Methods_">Method<br />
Details</a></p>

<div class="fdesc">

Real-Time Event Manager. This object manages all of the game's real-time
events, which are events that occur according to elapsed real-world
time.

**`realTimeManager`**` :   `[`BasicEventManager`](../object/BasicEventManager.html)[`InitObject`](../object/InitObject.html)

</div>

<p><span id="_SuperClassTree_"></span></p>

<div class="mjhd">

<span class="hdln">Superclass Tree</span>   (in declaration order)

</div>

<p><strong><code class="language-plaintext highlighter-rouge">realTimeManager</code></strong><br />
<a href="../object/BasicEventManager.html"><code class="language-plaintext highlighter-rouge">BasicEventManager</code></a><br />
`                 object<code class="language-plaintext highlighter-rouge">  
[</code>InitObject<code class="language-plaintext highlighter-rouge">](../object/InitObject.html)  
[</code>ModuleExecObject<code class="language-plaintext highlighter-rouge">](../object/ModuleExecObject.html)  
</code>                         object`<br />
<span id="_PropSummary_"></span></p>

<div class="mjhd">

<span class="hdln">Summary of Properties</span>  

</div>

<p>` <code class="language-plaintext highlighter-rouge">[</code>curEvent_<code class="language-plaintext highlighter-rouge">](#curEvent_)</code>  <code class="language-plaintext highlighter-rouge">[</code>elapsedTimeAtSave<code class="language-plaintext highlighter-rouge">](#elapsedTimeAtSave)</code>  <code class="language-plaintext highlighter-rouge">[</code>events_<code class="language-plaintext highlighter-rouge">](#events_)</code>  <code class="language-plaintext highlighter-rouge">[</code>startingTime<code class="language-plaintext highlighter-rouge">](#startingTime)</code>  `</p>

<p>` `</p>

<p>` `</p>

<p>Inherited from <code class="language-plaintext highlighter-rouge">ModuleExecObject</code> :<br />
` <code class="language-plaintext highlighter-rouge">[</code>execAfterMe<code class="language-plaintext highlighter-rouge">](../object/ModuleExecObject.html#execAfterMe)</code>  <code class="language-plaintext highlighter-rouge">[</code>execBeforeMe<code class="language-plaintext highlighter-rouge">](../object/ModuleExecObject.html#execBeforeMe)</code>  <code class="language-plaintext highlighter-rouge">[</code>hasInitialized_<code class="language-plaintext highlighter-rouge">](../object/ModuleExecObject.html#hasInitialized_)</code>  <code class="language-plaintext highlighter-rouge">[</code>isDoingExec_<code class="language-plaintext highlighter-rouge">](../object/ModuleExecObject.html#isDoingExec_)</code>  <code class="language-plaintext highlighter-rouge">[</code>isExecuted_<code class="language-plaintext highlighter-rouge">](../object/ModuleExecObject.html#isExecuted_)</code>  `</p>

<p><span id="_MethodSummary_"></span></p>

<div class="mjhd">

<span class="hdln">Summary of Methods</span>  

</div>

<p>` <code class="language-plaintext highlighter-rouge">[</code>execute<code class="language-plaintext highlighter-rouge">](#execute)</code>  <code class="language-plaintext highlighter-rouge">[</code>execute<code class="language-plaintext highlighter-rouge">](#execute)</code>  <code class="language-plaintext highlighter-rouge">[</code>execute<code class="language-plaintext highlighter-rouge">](#execute)</code>  <code class="language-plaintext highlighter-rouge">[</code>executeEvents<code class="language-plaintext highlighter-rouge">](#executeEvents)</code>  <code class="language-plaintext highlighter-rouge">[</code>getElapsedTime<code class="language-plaintext highlighter-rouge">](#getElapsedTime)</code>  <code class="language-plaintext highlighter-rouge">[</code>getNextEventTime<code class="language-plaintext highlighter-rouge">](#getNextEventTime)</code>  <code class="language-plaintext highlighter-rouge">[</code>restoreElapsedTime<code class="language-plaintext highlighter-rouge">](#restoreElapsedTime)</code>  <code class="language-plaintext highlighter-rouge">[</code>saveElapsedTime<code class="language-plaintext highlighter-rouge">](#saveElapsedTime)</code>  <code class="language-plaintext highlighter-rouge">[</code>setElapsedTime<code class="language-plaintext highlighter-rouge">](#setElapsedTime)</code>  `</p>

<p>Inherited from <code class="language-plaintext highlighter-rouge">BasicEventManager</code> :<br />
` <code class="language-plaintext highlighter-rouge">[</code>addEvent<code class="language-plaintext highlighter-rouge">](../object/BasicEventManager.html#addEvent)</code>  <code class="language-plaintext highlighter-rouge">[</code>removeCurrentEvent<code class="language-plaintext highlighter-rouge">](../object/BasicEventManager.html#removeCurrentEvent)</code>  <code class="language-plaintext highlighter-rouge">[</code>removeEvent<code class="language-plaintext highlighter-rouge">](../object/BasicEventManager.html#removeEvent)</code>  <code class="language-plaintext highlighter-rouge">[</code>removeMatchingEvents<code class="language-plaintext highlighter-rouge">](../object/BasicEventManager.html#removeMatchingEvents)</code>  `</p>

<p>` `</p>

<p>Inherited from <code class="language-plaintext highlighter-rouge">ModuleExecObject</code> :<br />
` <code class="language-plaintext highlighter-rouge">[</code>_execute<code class="language-plaintext highlighter-rouge">](../object/ModuleExecObject.html#_execute)</code>  <code class="language-plaintext highlighter-rouge">[</code>classExec<code class="language-plaintext highlighter-rouge">](../object/ModuleExecObject.html#classExec)</code>  `</p>

<p><span id="_Properties_"></span></p>

<div class="mjhd">

<span class="hdln">Properties</span>  

</div>

<p><span id="curEvent_"></span></p>

<p><code class="language-plaintext highlighter-rouge">curEvent_</code></p>

<p><a href="../file/events.t.html">events.t</a>[<a href="../source/events.t.html#1091">1091</a>]</p>

<div class="desc">

the event currently being executed

</div>

<p><span id="elapsedTimeAtSave"></span></p>

<p><code class="language-plaintext highlighter-rouge">elapsedTimeAtSave</code></p>

<p><a href="../file/events.t.html">events.t</a>[<a href="../source/events.t.html#1097">1097</a>]</p>

<div class="desc">

saved elapsed time - we use this to figure the virtual starting time
when we restore a saved game

</div>

<p><span id="events_"></span></p>

<p><code class="language-plaintext highlighter-rouge">events_</code><span class="rem">OVERRIDDEN</span></p>

<p><a href="../file/events.t.html">events.t</a>[<a href="../source/events.t.html#1088">1088</a>]</p>

<div class="desc">

our event list

</div>

<p><span id="startingTime"></span></p>

<p><code class="language-plaintext highlighter-rouge">startingTime</code></p>

<p><a href="../file/events.t.html">events.t</a>[<a href="../source/events.t.html#1042">1042</a>]</p>

<div class="desc">

The imaginary real-world time of the starting point of the game,
treating the game as having been played from the start in one continous
session. Whenever we restore a saved game, we project backwards from the
current real-world time at restoration by the amount of continuous
elapsed time in the saved game to find the point at which the game would
have started if it had been played continuously in one session up to the
restored point.

We set a static initial value for this, using the interpreter's
real-time clock value at compilation time. This ensures that we'll have
a meaningful time base if any real-time events are created during
pre-initialization. This static value will only be in effect during
preinit; we're an InitObject, so our execute() method will be invoked at
run-time start-up, and at that point we'll reset the zero point to the
actual run-time start time.

</div>

<p><span id="_Methods_"></span></p>

<div class="mjhd">

<span class="hdln">Methods</span>  

</div>

<p><span id="execute"></span></p>

<p><code class="language-plaintext highlighter-rouge">execute ( )</code><span class="rem">OVERRIDDEN</span></p>

<p><a href="../file/events.t.html">events.t</a>[<a href="../source/events.t.html#1050">1050</a>]</p>

<div class="desc">

Initialize at run-time startup. We want to set the zero point as the
time when the player actually started playing the game (any time we
spent in pre-initialization doesn't count on the real-time clock, since
it's not part of the game per se).

</div>

<p><span id="execute"></span></p>

<p><code class="language-plaintext highlighter-rouge">execute ( )</code><span class="rem">OVERRIDDEN</span></p>

<p><a href="../file/events.t.html">events.t</a>[<a href="../source/events.t.html#1108">1108</a>]</p>

<div class="desc">

Real-time manager: pre-save notification receiver. When we're about to
save the game, we'll note the current elapsed game time, so that when we
later restore the game, we can figure the virtual starting point that
will give us the same effective elapsed time on the system real-time
clock.

</div>

<p><span id="execute"></span></p>

<p><code class="language-plaintext highlighter-rouge">execute ( )</code><span class="rem">OVERRIDDEN</span></p>

<p><a href="../file/events.t.html">events.t</a>[<a href="../source/events.t.html#1125">1125</a>]</p>

<div class="desc">

Real-time manager: post-restore notification receiver. Immediately after
we restore a game, we'll tell the real-time manager to refigure the
virtual starting point of the game based on the saved elapsed time.

</div>

<p><span id="executeEvents"></span></p>

<p><code class="language-plaintext highlighter-rouge">executeEvents ( )</code></p>

<p><a href="../file/events.t.html">events.t</a>[<a href="../source/events.t.html#927">927</a>]</p>

<div class="desc">

Run any real-time events that are ready to execute, then return the next
event time. The return value has the same meaning as that of
getNextEventTime().

</div>

<p><span id="getElapsedTime"></span></p>

<p><code class="language-plaintext highlighter-rouge">getElapsedTime ( )</code></p>

<p><a href="../file/events.t.html">events.t</a>[<a href="../source/events.t.html#1000">1000</a>]</p>

<div class="desc">

Get the current game elapsed time. This is the number of milliseconds
that has elapsed since the game was started, counting only the
continuous execution time. When the game is saved, we save the elapsed
time at that point; when the game is later restored, we project that
saved time backwards from the current real-world time at restoration to
get the real-world time where the game would have started if it had
actually been played continuously in one session.

</div>

<p><span id="getNextEventTime"></span></p>

<p><code class="language-plaintext highlighter-rouge">getNextEventTime ( )</code></p>

<p><a href="../file/events.t.html">events.t</a>[<a href="../source/events.t.html#889">889</a>]</p>

<div class="desc">

Get the elapsed game time at which the next real-time event is
scheduled. This returns a value which can be compared to that returned
by getElapsedTime(): if this value is less than or equal to the value
from getElapsedTime(), then the next event is reay for immediate
execution; otherwise, the result of subtracting getElapsedTime() from
our return value gives the number of milliseconds until the next event
is schedulable.

Note that we don't calculate the delta to the next event time, but
instead return the absolute time, because the caller might need to
perform extra processing before using our return value. If we returned a
delta, that extra processing time wouldn't be figured into the caller's
determination of event schedulability.

If we return nil, it means that there are no scheduled real-time events.

</div>

<p><span id="restoreElapsedTime"></span></p>

<p><code class="language-plaintext highlighter-rouge">restoreElapsedTime ( )</code></p>

<p><a href="../file/events.t.html">events.t</a>[<a href="../source/events.t.html#1077">1077</a>]</p>

<div class="desc">

Restore the elapsed time - this is called just after we restore a game.
We'll project the saved elapsed time backwards to figure the imaginary
starting time the game would have had if it had been played in one
continuous session rather than being saved and restored.

</div>

<p><span id="saveElapsedTime"></span></p>

<p><code class="language-plaintext highlighter-rouge">saveElapsedTime ( )</code></p>

<p><a href="../file/events.t.html">events.t</a>[<a href="../source/events.t.html#1064">1064</a>]</p>

<div class="desc">

save the elapsed time so far - this is called just before we save a game
so that we can pick up where we left off on the elapsed time clock when
we restore the saved game

</div>

<p><span id="setElapsedTime"></span></p>

<p><code class="language-plaintext highlighter-rouge">setElapsedTime (t)</code></p>

<p><a href="../file/events.t.html">events.t</a>[<a href="../source/events.t.html#1016">1016</a>]</p>

<div class="desc">

Set the current game elapsed time. This can be used to freeze the
real-time clock - a caller can note the elapsed game time at one point
by calling getElapsedTime(), and then pass the same value to this
routine to ensure that no real time can effectively pass between the two
calls.

</div>

<div class="ftr">

TADS 3 Library Manual  
Generated on 5/16/2013 from TADS version 3.1.3

</div>

</main>
<footer>
    <p>This is an unofficial informational website to aggregate TADS 3 information and does not claim authorship over, or any rights to, TADS 3 itself. All resources copyright their credited owners. TADS itself is <a href="https://www.tads.org/copyright.htm">Copyright ©2001-2013 Michael J. Roberts</a>.</p>
    <p><a href="/">Back to Homepage</a></p>
</footer>
</body>
</html>