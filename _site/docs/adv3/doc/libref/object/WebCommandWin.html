<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="utf-8">
    <meta name="viewport" content="width=device-width, initial-scale=1">
    <meta property="og:type" content="website">
    <link rel="icon" href="/assets/images/tads-favicon.png" type="image/png">
    <link rel="stylesheet" type="text/css"
                           href="/assets/css/styles.css">
    <title>docs-adv3-doc-libref-object-webcommandwin-html</title>
    <meta property="og:title" content=
    "docs-adv3-doc-libref-object-webcommandwin-html">
    <meta name="description" content="">
    <meta property="og:description" content="">
</head>
<header><div class="header-search">
    <form class="header-search-form" action="/search/" method="get">
      <input type="text" id="search-box" name="query">
      <input type="submit" value="search">
    </form>
  </div>  </header>
<body>
<main id="content">
<p><span class="title">WebCommandWin</span><span class="type">class</span></p>

<p><a href="../file/webui.t.html">webui.t</a>[<a href="../source/webui.t.html#1936">1936</a>]</p>

<p><a href="#_SuperClassTree_">Superclass<br />
Tree</a></p>

<p><a href="#_SubClassTree_">Subclass<br />
Tree</a></p>

<p><a href="#_ObjectSummary_">Global<br />
Objects</a></p>

<p><a href="#_PropSummary_">Property<br />
Summary</a></p>

<p><a href="#_MethodSummary_">Method<br />
Summary</a></p>

<p><a href="#_Properties_">Property<br />
Details</a></p>

<p><a href="#_Methods_">Method<br />
Details</a></p>

<div class="fdesc">

Command Window. This object keeps track of the state of command window
within the web UI.

`class `**`WebCommandWin`**` :   `[`WebWindow`](../object/WebWindow.html)

</div>

<p><span id="_SuperClassTree_"></span></p>

<div class="mjhd">

<span class="hdln">Superclass Tree</span>   (in declaration order)

</div>

<p><strong><code class="language-plaintext highlighter-rouge">WebCommandWin</code></strong><br />
<a href="../object/WebWindow.html"><code class="language-plaintext highlighter-rouge">WebWindow</code></a><br />
<a href="../object/WebResourceResFile.html"><code class="language-plaintext highlighter-rouge">WebResourceResFile</code></a><br />
<a href="../object/WebResource.html"><code class="language-plaintext highlighter-rouge">WebResource</code></a><br />
`                                 object`<br />
<span id="_SubClassTree_"></span></p>

<div class="mjhd">

<span class="hdln">Subclass Tree</span>  

</div>

<p><em>(none)</em> <span id="_ObjectSummary_"></span></p>

<div class="mjhd">

<span class="hdln">Global Objects</span>  

</div>

<p>` <code class="language-plaintext highlighter-rouge">[</code>commandWin<code class="language-plaintext highlighter-rouge">](../object/commandWin.html)</code>  `
<span id="_PropSummary_"></span></p>

<div class="mjhd">

<span class="hdln">Summary of Properties</span>  

</div>

<p>` <code class="language-plaintext highlighter-rouge">[</code>isInputOpen<code class="language-plaintext highlighter-rouge">](#isInputOpen)</code>  <code class="language-plaintext highlighter-rouge">[</code>lastInput<code class="language-plaintext highlighter-rouge">](#lastInput)</code>  <code class="language-plaintext highlighter-rouge">[</code>lastInputClient<code class="language-plaintext highlighter-rouge">](#lastInputClient)</code>  <code class="language-plaintext highlighter-rouge">[</code>lastInputReady<code class="language-plaintext highlighter-rouge">](#lastInputReady)</code>  <code class="language-plaintext highlighter-rouge">[</code>mode<code class="language-plaintext highlighter-rouge">](#mode)</code>  <code class="language-plaintext highlighter-rouge">[</code>moreMode<code class="language-plaintext highlighter-rouge">](#moreMode)</code>  <code class="language-plaintext highlighter-rouge">[</code>outbuf<code class="language-plaintext highlighter-rouge">](#outbuf)</code>  <code class="language-plaintext highlighter-rouge">[</code>scrollback<code class="language-plaintext highlighter-rouge">](#scrollback)</code>  <code class="language-plaintext highlighter-rouge">[</code>scrollbackLimit<code class="language-plaintext highlighter-rouge">](#scrollbackLimit)</code>  <code class="language-plaintext highlighter-rouge">[</code>src<code class="language-plaintext highlighter-rouge">](#src)</code>  <code class="language-plaintext highlighter-rouge">[</code>textbuf<code class="language-plaintext highlighter-rouge">](#textbuf)</code>  <code class="language-plaintext highlighter-rouge">[</code>vpath<code class="language-plaintext highlighter-rouge">](#vpath)</code>  `</p>

<p>Inherited from <code class="language-plaintext highlighter-rouge">WebWindow</code> :<br />
` <code class="language-plaintext highlighter-rouge">[</code>name<code class="language-plaintext highlighter-rouge">](../object/WebWindow.html#name)</code>  <code class="language-plaintext highlighter-rouge">[</code>pathName<code class="language-plaintext highlighter-rouge">](../object/WebWindow.html#pathName)</code>  <code class="language-plaintext highlighter-rouge">[</code>sthCtx<code class="language-plaintext highlighter-rouge">](../object/WebWindow.html#sthCtx)</code>  `</p>

<p>Inherited from <code class="language-plaintext highlighter-rouge">WebResourceResFile</code> :<br />
` <code class="language-plaintext highlighter-rouge">[</code>binaryExts<code class="language-plaintext highlighter-rouge">](../object/WebResourceResFile.html#binaryExts)</code>  <code class="language-plaintext highlighter-rouge">[</code>browserExtToMime<code class="language-plaintext highlighter-rouge">](../object/WebResourceResFile.html#browserExtToMime)</code>  `</p>

<p>Inherited from <code class="language-plaintext highlighter-rouge">WebResource</code> :<br />
` <code class="language-plaintext highlighter-rouge">[</code>group<code class="language-plaintext highlighter-rouge">](../object/WebResource.html#group)</code>  <code class="language-plaintext highlighter-rouge">[</code>priority<code class="language-plaintext highlighter-rouge">](../object/WebResource.html#priority)</code>  `</p>

<p><span id="_MethodSummary_"></span></p>

<div class="mjhd">

<span class="hdln">Summary of Methods</span>  

</div>

<p>` <code class="language-plaintext highlighter-rouge">[</code>cancelInputLine<code class="language-plaintext highlighter-rouge">](#cancelInputLine)</code>  <code class="language-plaintext highlighter-rouge">[</code>clearWindow<code class="language-plaintext highlighter-rouge">](#clearWindow)</code>  <code class="language-plaintext highlighter-rouge">[</code>endMoreMode<code class="language-plaintext highlighter-rouge">](#endMoreMode)</code>  <code class="language-plaintext highlighter-rouge">[</code>flushWin<code class="language-plaintext highlighter-rouge">](#flushWin)</code>  <code class="language-plaintext highlighter-rouge">[</code>getInputLine<code class="language-plaintext highlighter-rouge">](#getInputLine)</code>  <code class="language-plaintext highlighter-rouge">[</code>getState<code class="language-plaintext highlighter-rouge">](#getState)</code>  <code class="language-plaintext highlighter-rouge">[</code>receiveInput<code class="language-plaintext highlighter-rouge">](#receiveInput)</code>  <code class="language-plaintext highlighter-rouge">[</code>showMorePrompt<code class="language-plaintext highlighter-rouge">](#showMorePrompt)</code>  <code class="language-plaintext highlighter-rouge">[</code>textbufToScrollback<code class="language-plaintext highlighter-rouge">](#textbufToScrollback)</code>  <code class="language-plaintext highlighter-rouge">[</code>write<code class="language-plaintext highlighter-rouge">](#write)</code>  `</p>

<p>Inherited from <code class="language-plaintext highlighter-rouge">WebWindow</code> :<br />
` <code class="language-plaintext highlighter-rouge">[</code>processName<code class="language-plaintext highlighter-rouge">](../object/WebWindow.html#processName)</code>  <code class="language-plaintext highlighter-rouge">[</code>sendWinEvent<code class="language-plaintext highlighter-rouge">](../object/WebWindow.html#sendWinEvent)</code>  <code class="language-plaintext highlighter-rouge">[</code>sendWinEventTo<code class="language-plaintext highlighter-rouge">](../object/WebWindow.html#sendWinEventTo)</code>  <code class="language-plaintext highlighter-rouge">[</code>winFromPath<code class="language-plaintext highlighter-rouge">](../object/WebWindow.html#winFromPath)</code>  `</p>

<p>Inherited from <code class="language-plaintext highlighter-rouge">WebResourceResFile</code> :<br />
` <code class="language-plaintext highlighter-rouge">[</code>isTextFile<code class="language-plaintext highlighter-rouge">](../object/WebResourceResFile.html#isTextFile)</code>  <code class="language-plaintext highlighter-rouge">[</code>matchRequest<code class="language-plaintext highlighter-rouge">](../object/WebResourceResFile.html#matchRequest)</code>  <code class="language-plaintext highlighter-rouge">[</code>processRequest<code class="language-plaintext highlighter-rouge">](../object/WebResourceResFile.html#processRequest)</code>  `</p>

<p>Inherited from <code class="language-plaintext highlighter-rouge">WebResource</code> :<br />
` <code class="language-plaintext highlighter-rouge">[</code>sendAck<code class="language-plaintext highlighter-rouge">](../object/WebResource.html#sendAck)</code>  <code class="language-plaintext highlighter-rouge">[</code>sendXML<code class="language-plaintext highlighter-rouge">](../object/WebResource.html#sendXML)</code>  `</p>

<p><span id="_Properties_"></span></p>

<div class="mjhd">

<span class="hdln">Properties</span>  

</div>

<p><span id="isInputOpen"></span></p>

<p><code class="language-plaintext highlighter-rouge">isInputOpen</code></p>

<p><a href="../file/webui.t.html">webui.t</a>[<a href="../source/webui.t.html#2201">2201</a>]</p>

<div class="desc">

Is an input line open? This is true between sending an \&lt;inputLine\&gt;
event and either getting a reply, or explicitly sending a close or
cancel event.

</div>

<p><span id="lastInput"></span></p>

<p><code class="language-plaintext highlighter-rouge">lastInput</code></p>

<p><a href="../file/webui.t.html">webui.t</a>[<a href="../source/webui.t.html#2188">2188</a>]</p>

<div class="desc">

the text of the last input line we received from the client

</div>

<p><span id="lastInputClient"></span></p>

<p><code class="language-plaintext highlighter-rouge">lastInputClient</code></p>

<p><a href="../file/webui.t.html">webui.t</a>[<a href="../source/webui.t.html#2194">2194</a>]</p>

<div class="desc">

client session who sent the last input line

</div>

<p><span id="lastInputReady"></span></p>

<p><code class="language-plaintext highlighter-rouge">lastInputReady</code></p>

<p><a href="../file/webui.t.html">webui.t</a>[<a href="../source/webui.t.html#2191">2191</a>]</p>

<div class="desc">

is input ready?

</div>

<p><span id="mode"></span></p>

<p><code class="language-plaintext highlighter-rouge">mode</code></p>

<p><a href="../file/webui.t.html">webui.t</a>[<a href="../source/webui.t.html#2212">2212</a>]</p>

<div class="desc">

Current UI mode. This is 'working' if the program is running and in the
process of computing and/or generating output; 'inputLine' if we're
waiting for the user to enter a line of input; 'morePrompt' if we're
showing a "More" prompt.

</div>

<p><span id="moreMode"></span></p>

<p><code class="language-plaintext highlighter-rouge">moreMode</code></p>

<p><a href="../file/webui.t.html">webui.t</a>[<a href="../source/webui.t.html#2204">2204</a>]</p>

<div class="desc">

flag: we're in More mode

</div>

<p><span id="outbuf"></span></p>

<p><code class="language-plaintext highlighter-rouge">outbuf</code></p>

<p><a href="../file/webui.t.html">webui.t</a>[<a href="../source/webui.t.html#2185">2185</a>]</p>

<div class="desc">

pending output buffer, since last flush

</div>

<p><span id="scrollback"></span></p>

<p><code class="language-plaintext highlighter-rouge">scrollback</code></p>

<p><a href="../file/webui.t.html">webui.t</a>[<a href="../source/webui.t.html#2174">2174</a>]</p>

<div class="desc">

Scrollback list. After each input, we add the contents of 'textbuf' to
this list. If this pushes the list past the limit, we drop the oldest
item. This is used to reconstruct a reasonable amount of scrollback
history when a new client connects, or when an existing client refreshes
the page.

</div>

<p><span id="scrollbackLimit"></span></p>

<p><code class="language-plaintext highlighter-rouge">scrollbackLimit</code></p>

<p><a href="../file/webui.t.html">webui.t</a>[<a href="../source/webui.t.html#2182">2182</a>]</p>

<div class="desc">

The scrollback limit, as a number of command inputs. Each input
interaction adds one item to the scrollback list. When the number of
items in the list exceeds the limit set here, we drop the oldest item.

</div>

<p><span id="src"></span></p>

<p><code class="language-plaintext highlighter-rouge">src</code><span class="rem">OVERRIDDEN</span></p>

<p><a href="../file/webui.t.html">webui.t</a>[<a href="../source/webui.t.html#2216">2216</a>]</p>

<div class="desc">

*no description available*

</div>

<p><span id="textbuf"></span></p>

<p><code class="language-plaintext highlighter-rouge">textbuf</code></p>

<p><a href="../file/webui.t.html">webui.t</a>[<a href="../source/webui.t.html#2165">2165</a>]</p>

<div class="desc">

main window text buffer since last input read

</div>

<p><span id="vpath"></span></p>

<p><code class="language-plaintext highlighter-rouge">vpath</code><span class="rem">OVERRIDDEN</span></p>

<p><a href="../file/webui.t.html">webui.t</a>[<a href="../source/webui.t.html#2215">2215</a>]</p>

<div class="desc">

my virtual path, and the actual resource file location

</div>

<p><span id="_Methods_"></span></p>

<div class="mjhd">

<span class="hdln">Methods</span>  

</div>

<p><span id="cancelInputLine"></span></p>

<p><code class="language-plaintext highlighter-rouge">cancelInputLine (reset)</code></p>

<p><a href="../file/webui.t.html">webui.t</a>[<a href="../source/webui.t.html#2026">2026</a>]</p>

<div class="desc">

Cancel an input line that was interrupted by a timeout

</div>

<p><span id="clearWindow"></span></p>

<p><code class="language-plaintext highlighter-rouge">clearWindow ( )</code><span class="rem">OVERRIDDEN</span></p>

<p><a href="../file/webui.t.html">webui.t</a>[<a href="../source/webui.t.html#2086">2086</a>]</p>

<div class="desc">

Clear the window

</div>

<p><span id="endMoreMode"></span></p>

<p><code class="language-plaintext highlighter-rouge">endMoreMode ( )</code></p>

<p><a href="../file/webui.t.html">webui.t</a>[<a href="../source/webui.t.html#2158">2158</a>]</p>

<div class="desc">

receive notification from the client that the user has responded to the
More prompt, ending the pause

</div>

<p><span id="flushWin"></span></p>

<p><code class="language-plaintext highlighter-rouge">flushWin ( )</code><span class="rem">OVERRIDDEN</span></p>

<p><a href="../file/webui.t.html">webui.t</a>[<a href="../source/webui.t.html#1949">1949</a>]</p>

<div class="desc">

Flush the buffers

</div>

<p><span id="getInputLine"></span></p>

<p><code class="language-plaintext highlighter-rouge">getInputLine (timeout?)</code></p>

<p><a href="../file/webui.t.html">webui.t</a>[<a href="../source/webui.t.html#1968">1968</a>]</p>

<div class="desc">

Read a line of input in this window. Blocks until the reply is received.
Returns nil on timeout.

</div>

<p><span id="getState"></span></p>

<p><code class="language-plaintext highlighter-rouge">getState (client)</code><span class="rem">OVERRIDDEN</span></p>

<p><a href="../file/webui.t.html">webui.t</a>[<a href="../source/webui.t.html#2046">2046</a>]</p>

<div class="desc">

Get the state of this command window

</div>

<p><span id="receiveInput"></span></p>

<p><code class="language-plaintext highlighter-rouge">receiveInput (req, query)</code></p>

<p><a href="../file/webui.t.html">webui.t</a>[<a href="../source/webui.t.html#2057">2057</a>]</p>

<div class="desc">

Receive input from the client

</div>

<p><span id="showMorePrompt"></span></p>

<p><code class="language-plaintext highlighter-rouge">showMorePrompt ( )</code></p>

<p><a href="../file/webui.t.html">webui.t</a>[<a href="../source/webui.t.html#2137">2137</a>]</p>

<div class="desc">

Show a "More" prompt

</div>

<p><span id="textbufToScrollback"></span></p>

<p><code class="language-plaintext highlighter-rouge">textbufToScrollback (cmd)</code></p>

<p><a href="../file/webui.t.html">webui.t</a>[<a href="../source/webui.t.html#2114">2114</a>]</p>

<div class="desc">

Move the current text buffer contents to the scrollback list. If this
would make the scrollback list exceed the limit, we'll drop the oldest
item.

'cmd' is the command line text of the last input. We include this in the
srollback list with special tagging so that the UI can display it in a
custom style, if it wants.

</div>

<p><span id="write"></span></p>

<p><code class="language-plaintext highlighter-rouge">write (txt)</code><span class="rem">OVERRIDDEN</span></p>

<p><a href="../file/webui.t.html">webui.t</a>[<a href="../source/webui.t.html#1940">1940</a>]</p>

<div class="desc">

Write to the window

</div>

<div class="ftr">

TADS 3 Library Manual  
Generated on 5/16/2013 from TADS version 3.1.3

</div>

</main>
<footer>
    <p>This is an unofficial informational website to aggregate TADS 3 information and does not claim authorship over, or any rights to, TADS 3 itself. All resources copyright their credited owners. TADS itself is <a href="https://www.tads.org/copyright.htm">Copyright ©2001-2013 Michael J. Roberts</a>.</p>
    <p><a href="/">Back to Homepage</a></p>
</footer>
</body>
</html>